#!/usr/bin/env python
# coding: utf-8

#############################################################################################
# Copyright Institut Curie 2020                                                             #
#                                                                                           #
# This software is a computer program whose purpose                                         #
# is to analyze high-throughput sequencing data.                                            #
# You can use, modify and/ or redistribute the software under                               #
# the terms of license (see the LICENSE file for more details).                             #
# The software is distributed in the hope that it will be useful,                           #
# but "AS IS" WITHOUT ANY WARRANTY OF ANY KIND.                                             #
# Users are therefore encouraged to test the software's suitabilityas regards               #
# their requirements in conditions enabling the security of their systems and/or data.      #
# The fact that you are presently reading this means that                                   #
# you have had knowledge of the license and that you accept its terms.                      #
#############################################################################################

import os
import re
import argparse
from collections import OrderedDict

parser = argparse.ArgumentParser()
parser.add_argument("-n", "--name", help="Pipeline name", type=str, default='')
parser.add_argument("-v", "--version", help="Pipeline version", type=str, default='')
parser.add_argument("-c", "--condition", help="Information about the experimental condition", type=str, default='')

args = parser.parse_args()

##
## Header
##

multiqc_list = ["title: '{}'".format(args.name)]
multiqc_list += ["subtitle: {}".format(args.condition)]
multiqc_list += ["intro_text: >\n This report has been generated by the {} pipeline (version: {})".format(args.name, args.version)]

if re.match(r".*dev(el)?$", args.version):
    multiqc_list +=["report_comment: >\n This software is currently under active development and the results have been generated with a non stable version. The reliability, reproducibility and the quality of the results are therefore not guaranteed."]

multiqc_list += ["custom_logo: '{}'".format(os.sep.join([
    os.path.dirname(os.path.realpath(__file__)), '../assets/Curie-CUBIC.png']))]
multiqc_list += ["custom_logo_title: Institut Curie"]
multiqc_list += ["custom_logo_url: https://curie.fr/plateforme/curiecoretech-bioinformatique-cubic"]

## Output
custom_content = '\n'.join(multiqc_list)
print(custom_content)



